<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - master-ibm-intel-check - ompi/mca/io/ompio/io_ompio_file_set_view.c</title>
  <link rel="stylesheet" type="text/css" href="../../../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../../../index.html">top level</a> - <a href="index.html">ompi/mca/io/ompio</a> - io_ompio_file_set_view.c<span style="font-size: 80%;"> (source / <a href="io_ompio_file_set_view.c.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">master-ibm-intel-check</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">167</td>
            <td class="headerCovTableEntry">212</td>
            <td class="headerCovTableEntryMed">78.8 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2015-08-03 17:10:23</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">5</td>
            <td class="headerCovTableEntry">6</td>
            <td class="headerCovTableEntryMed">83.3 %</td>
          </tr>
          <tr><td><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /*</a>
<span class="lineNum">       2 </span>            :  * Copyright (c) 2004-2005 The Trustees of Indiana University and Indiana
<span class="lineNum">       3 </span>            :  *                         University Research and Technology
<span class="lineNum">       4 </span>            :  *                         Corporation.  All rights reserved.
<span class="lineNum">       5 </span>            :  * Copyright (c) 2004-2005 The University of Tennessee and The University
<span class="lineNum">       6 </span>            :  *                         of Tennessee Research Foundation.  All rights
<span class="lineNum">       7 </span>            :  *                         reserved.
<span class="lineNum">       8 </span>            :  * Copyright (c) 2004-2005 High Performance Computing Center Stuttgart,
<span class="lineNum">       9 </span>            :  *                         University of Stuttgart.  All rights reserved.
<span class="lineNum">      10 </span>            :  * Copyright (c) 2004-2005 The Regents of the University of California.
<span class="lineNum">      11 </span>            :  *                         All rights reserved.
<span class="lineNum">      12 </span>            :  * Copyright (c) 2008-2014 University of Houston. All rights reserved.
<span class="lineNum">      13 </span>            :  * Copyright (c) 2015      Research Organization for Information Science
<span class="lineNum">      14 </span>            :  *                         and Technology (RIST). All rights reserved.
<span class="lineNum">      15 </span>            :  *  $COPYRIGHT$
<span class="lineNum">      16 </span>            :  *
<span class="lineNum">      17 </span>            :  *  Additional copyrights may follow
<span class="lineNum">      18 </span>            :  *
<span class="lineNum">      19 </span>            :  *  $HEADER$
<span class="lineNum">      20 </span>            :  */
<span class="lineNum">      21 </span>            : 
<span class="lineNum">      22 </span>            : #include &quot;ompi_config.h&quot;
<span class="lineNum">      23 </span>            : 
<span class="lineNum">      24 </span>            : #include &quot;ompi/communicator/communicator.h&quot;
<span class="lineNum">      25 </span>            : #include &quot;ompi/info/info.h&quot;
<span class="lineNum">      26 </span>            : #include &quot;ompi/file/file.h&quot;
<span class="lineNum">      27 </span>            : #include &quot;ompi/mca/fs/fs.h&quot;
<span class="lineNum">      28 </span>            : #include &quot;ompi/mca/fs/base/base.h&quot;
<span class="lineNum">      29 </span>            : #include &quot;ompi/mca/fcoll/fcoll.h&quot;
<span class="lineNum">      30 </span>            : #include &quot;ompi/mca/fcoll/base/base.h&quot;
<span class="lineNum">      31 </span>            : #include &quot;ompi/mca/pml/pml.h&quot;
<span class="lineNum">      32 </span>            : #include &quot;opal/datatype/opal_convertor.h&quot;
<span class="lineNum">      33 </span>            : #include &quot;ompi/datatype/ompi_datatype.h&quot;
<span class="lineNum">      34 </span>            : #include &lt;stdlib.h&gt;
<span class="lineNum">      35 </span>            : #include &lt;stdio.h&gt;
<span class="lineNum">      36 </span>            : 
<span class="lineNum">      37 </span>            : #include &lt;unistd.h&gt;
<span class="lineNum">      38 </span>            : #include &quot;io_ompio.h&quot;
<span class="lineNum">      39 </span>            : 
<span class="lineNum">      40 </span>            : static OMPI_MPI_OFFSET_TYPE get_contiguous_chunk_size (mca_io_ompio_file_t *);
<span class="lineNum">      41 </span>            : extern ompi_datatype_t *mca_io_ompio_default_file_view;
<a name="42"><span class="lineNum">      42 </span>            : </a>
<span class="lineNum">      43 </span>            : 
<span class="lineNum">      44 </span><span class="lineCov">          8 : int mca_io_ompio_set_view_internal(mca_io_ompio_file_t *fh,</span>
<span class="lineNum">      45 </span>            :                                    OMPI_MPI_OFFSET_TYPE disp,
<span class="lineNum">      46 </span>            :                                    ompi_datatype_t *etype,
<span class="lineNum">      47 </span>            :                                    ompi_datatype_t *filetype,
<span class="lineNum">      48 </span>            :                                    char *datarep,
<span class="lineNum">      49 </span>            :                                    ompi_info_t *info)
<span class="lineNum">      50 </span>            : {
<span class="lineNum">      51 </span>            : 
<span class="lineNum">      52 </span><span class="lineCov">          8 :     size_t max_data = 0;</span>
<span class="lineNum">      53 </span>            :     int i;
<span class="lineNum">      54 </span><span class="lineCov">          8 :     int num_groups = 0;</span>
<span class="lineNum">      55 </span>            :     contg *contg_groups;
<span class="lineNum">      56 </span>            : 
<span class="lineNum">      57 </span>            : 
<span class="lineNum">      58 </span>            : 
<span class="lineNum">      59 </span>            :     MPI_Aint lb,ub;
<span class="lineNum">      60 </span>            : 
<span class="lineNum">      61 </span><span class="lineCov">          8 :     fh-&gt;f_iov_count   = 0;</span>
<span class="lineNum">      62 </span><span class="lineCov">          8 :     fh-&gt;f_disp        = disp;</span>
<span class="lineNum">      63 </span><span class="lineCov">          8 :     fh-&gt;f_offset      = disp;</span>
<span class="lineNum">      64 </span><span class="lineCov">          8 :     fh-&gt;f_total_bytes = 0;</span>
<span class="lineNum">      65 </span>            : 
<span class="lineNum">      66 </span><span class="lineCov">          8 :     ompi_io_ompio_decode_datatype (fh,</span>
<span class="lineNum">      67 </span>            :                                    filetype,
<span class="lineNum">      68 </span>            :                                    1,
<span class="lineNum">      69 </span>            :                                    NULL,
<span class="lineNum">      70 </span>            :                                    &amp;max_data,
<span class="lineNum">      71 </span>            :                                    &amp;fh-&gt;f_decoded_iov,
<span class="lineNum">      72 </span>            :                                    &amp;fh-&gt;f_iov_count);
<span class="lineNum">      73 </span>            : 
<span class="lineNum">      74 </span><span class="lineCov">          8 :     opal_datatype_get_extent(&amp;filetype-&gt;super, &amp;lb, &amp;fh-&gt;f_view_extent);</span>
<span class="lineNum">      75 </span><span class="lineCov">          8 :     opal_datatype_type_ub   (&amp;filetype-&gt;super, &amp;ub);</span>
<span class="lineNum">      76 </span><span class="lineCov">          8 :     opal_datatype_type_size (&amp;etype-&gt;super, &amp;fh-&gt;f_etype_size);</span>
<span class="lineNum">      77 </span><span class="lineCov">          8 :     opal_datatype_type_size (&amp;filetype-&gt;super, &amp;fh-&gt;f_view_size);</span>
<span class="lineNum">      78 </span><span class="lineCov">          8 :     ompi_datatype_duplicate (etype, &amp;fh-&gt;f_etype);</span>
<span class="lineNum">      79 </span><span class="lineCov">          8 :     ompi_datatype_duplicate (filetype, &amp;fh-&gt;f_filetype);</span>
<span class="lineNum">      80 </span>            : 
<span class="lineNum">      81 </span><span class="lineCov">          8 :     fh-&gt;f_cc_size = get_contiguous_chunk_size (fh);</span>
<span class="lineNum">      82 </span>            : 
<span class="lineNum">      83 </span><span class="lineCov">          8 :     if (opal_datatype_is_contiguous_memory_layout(&amp;etype-&gt;super,1)) {</span>
<span class="lineNum">      84 </span><span class="lineCov">         16 :         if (opal_datatype_is_contiguous_memory_layout(&amp;filetype-&gt;super,1) &amp;&amp;</span>
<span class="lineNum">      85 </span><span class="lineCov">          8 :             fh-&gt;f_view_extent == (OPAL_PTRDIFF_TYPE)fh-&gt;f_view_size ) {</span>
<span class="lineNum">      86 </span><span class="lineCov">          4 :             fh-&gt;f_flags |= OMPIO_CONTIGUOUS_FVIEW;</span>
<span class="lineNum">      87 </span>            :         }
<span class="lineNum">      88 </span>            :     }
<span class="lineNum">      89 </span>            : 
<span class="lineNum">      90 </span>            : 
<span class="lineNum">      91 </span><span class="lineCov">          8 :     contg_groups = (contg*) calloc ( 1, fh-&gt;f_size * sizeof(contg));</span>
<span class="lineNum">      92 </span><span class="lineCov">          8 :     if (NULL == contg_groups) {</span>
<span class="lineNum">      93 </span><span class="lineNoCov">          0 :         opal_output (1, &quot;OUT OF MEMORY\n&quot;);</span>
<span class="lineNum">      94 </span><span class="lineNoCov">          0 :         return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">      95 </span>            :     }
<span class="lineNum">      96 </span><span class="lineCov">         40 :     for( i = 0; i &lt; fh-&gt;f_size; i++){</span>
<span class="lineNum">      97 </span><span class="lineCov">         32 :        contg_groups[i].procs_in_contg_group = (int*)calloc (1,fh-&gt;f_size * sizeof(int));</span>
<span class="lineNum">      98 </span><span class="lineCov">         32 :        if(NULL == contg_groups[i].procs_in_contg_group){</span>
<span class="lineNum">      99 </span>            :           int j;
<span class="lineNum">     100 </span><span class="lineNoCov">          0 :           opal_output (1, &quot;OUT OF MEMORY\n&quot;);</span>
<span class="lineNum">     101 </span><span class="lineNoCov">          0 :           for(j=0; j&lt;i; j++) {</span>
<span class="lineNum">     102 </span><span class="lineNoCov">          0 :               free(contg_groups[j].procs_in_contg_group);</span>
<span class="lineNum">     103 </span>            :           }
<span class="lineNum">     104 </span><span class="lineNoCov">          0 :           free(contg_groups);</span>
<span class="lineNum">     105 </span><span class="lineNoCov">          0 :           return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     106 </span>            :        }
<span class="lineNum">     107 </span>            :     }
<span class="lineNum">     108 </span><span class="lineCov">          8 :     if( OMPI_SUCCESS != mca_io_ompio_fview_based_grouping(fh,</span>
<span class="lineNum">     109 </span>            :                                                           &amp;num_groups,
<span class="lineNum">     110 </span>            :                                                           contg_groups)){
<span class="lineNum">     111 </span><span class="lineNoCov">          0 :        opal_output(1, &quot;mca_io_ompio_fview_based_grouping() failed\n&quot;);</span>
<span class="lineNum">     112 </span><span class="lineNoCov">          0 :        free(contg_groups);</span>
<span class="lineNum">     113 </span><span class="lineNoCov">          0 :        return OMPI_ERROR;</span>
<span class="lineNum">     114 </span>            :     }
<span class="lineNum">     115 </span><span class="lineCov">          8 :     if( !( (fh-&gt;f_comm-&gt;c_flags &amp; OMPI_COMM_CART) &amp;&amp;</span>
<span class="lineNum">     116 </span><span class="lineNoCov">          0 :            (num_groups == 1 || num_groups == fh-&gt;f_size)) ) {</span>
<span class="lineNum">     117 </span><span class="lineCov">          8 :           mca_io_ompio_finalize_initial_grouping(fh,</span>
<span class="lineNum">     118 </span>            :                                                  num_groups,
<span class="lineNum">     119 </span>            :                                                  contg_groups);
<span class="lineNum">     120 </span>            :     }
<span class="lineNum">     121 </span><span class="lineCov">         40 :     for( i = 0; i &lt; fh-&gt;f_size; i++){</span>
<span class="lineNum">     122 </span><span class="lineCov">         32 :        free(contg_groups[i].procs_in_contg_group);</span>
<span class="lineNum">     123 </span>            :     }
<span class="lineNum">     124 </span><span class="lineCov">          8 :     free(contg_groups);</span>
<span class="lineNum">     125 </span>            : 
<span class="lineNum">     126 </span>            : 
<span class="lineNum">     127 </span><span class="lineCov">          8 :     return OMPI_SUCCESS;</span>
<a name="128"><span class="lineNum">     128 </span>            : }</a>
<span class="lineNum">     129 </span>            : 
<span class="lineNum">     130 </span><span class="lineCov">          4 : int mca_io_ompio_file_set_view (ompi_file_t *fp,</span>
<span class="lineNum">     131 </span>            :                                 OMPI_MPI_OFFSET_TYPE disp,
<span class="lineNum">     132 </span>            :                                 ompi_datatype_t *etype,
<span class="lineNum">     133 </span>            :                                 ompi_datatype_t *filetype,
<span class="lineNum">     134 </span>            :                                 char *datarep,
<span class="lineNum">     135 </span>            :                                 ompi_info_t *info)
<span class="lineNum">     136 </span>            : {
<span class="lineNum">     137 </span>            :     mca_io_ompio_data_t *data;
<span class="lineNum">     138 </span>            :     mca_io_ompio_file_t *fh;
<span class="lineNum">     139 </span>            : 
<span class="lineNum">     140 </span><span class="lineCov">          4 :     data = (mca_io_ompio_data_t *) fp-&gt;f_io_selected_data;</span>
<span class="lineNum">     141 </span><span class="lineCov">          4 :     fh = &amp;data-&gt;ompio_fh;</span>
<span class="lineNum">     142 </span>            : 
<span class="lineNum">     143 </span><span class="lineCov">          4 :     if ( fh-&gt;f_flags &amp; OMPIO_FILE_VIEW_IS_SET ) {</span>
<span class="lineNum">     144 </span><span class="lineCov">          4 :         if ( MPI_BYTE == etype &amp;&amp; MPI_BYTE == filetype ) {</span>
<span class="lineNum">     145 </span>            :             /* this is the default file view that the user provides. If we also have the default file view set
<span class="lineNum">     146 </span>            :             ** dont replace our optimized version  of the default file view with 
<span class="lineNum">     147 </span>            :             ** MPI_BYTE/MPI_BYTE, since the performance suffers terribly
<span class="lineNum">     148 </span>            :             ** if you do that.  Otherwise, pass the optimized version along, not the trivial version.    
<span class="lineNum">     149 </span>            :             */
<span class="lineNum">     150 </span><span class="lineNoCov">          0 :             if ( mca_io_ompio_default_file_view == fh-&gt;f_filetype ) {</span>
<span class="lineNum">     151 </span>            :                 /* don't do anything */
<span class="lineNum">     152 </span><span class="lineNoCov">          0 :                 return OMPI_SUCCESS;</span>
<span class="lineNum">     153 </span>            :             }
<span class="lineNum">     154 </span>            :             else {
<span class="lineNum">     155 </span><span class="lineNoCov">          0 :                 filetype = mca_io_ompio_default_file_view;</span>
<span class="lineNum">     156 </span>            :             }
<span class="lineNum">     157 </span>            :         }                    
<span class="lineNum">     158 </span>            :     }
<span class="lineNum">     159 </span>            : 
<span class="lineNum">     160 </span><span class="lineCov">          4 :     if (NULL != fh-&gt;f_decoded_iov) {</span>
<span class="lineNum">     161 </span><span class="lineCov">          4 :         free (fh-&gt;f_decoded_iov);</span>
<span class="lineNum">     162 </span><span class="lineCov">          4 :         fh-&gt;f_decoded_iov = NULL;</span>
<span class="lineNum">     163 </span>            :     }
<span class="lineNum">     164 </span>            : 
<span class="lineNum">     165 </span><span class="lineCov">          4 :     if (NULL != fh-&gt;f_datarep) {</span>
<span class="lineNum">     166 </span><span class="lineCov">          4 :         free (fh-&gt;f_datarep);</span>
<span class="lineNum">     167 </span><span class="lineCov">          4 :         fh-&gt;f_datarep = NULL;</span>
<span class="lineNum">     168 </span>            :     }
<span class="lineNum">     169 </span>            : 
<span class="lineNum">     170 </span>            :     /* Reset the flags first */
<span class="lineNum">     171 </span><span class="lineCov">          4 :     fh-&gt;f_flags = 0;</span>
<span class="lineNum">     172 </span>            : 
<span class="lineNum">     173 </span><span class="lineCov">          4 :     fh-&gt;f_flags |= OMPIO_FILE_VIEW_IS_SET;</span>
<span class="lineNum">     174 </span><span class="lineCov">          4 :     fh-&gt;f_datarep = strdup (datarep);</span>
<span class="lineNum">     175 </span>            : 
<span class="lineNum">     176 </span><span class="lineCov">          4 :     mca_io_ompio_set_view_internal (fh,</span>
<span class="lineNum">     177 </span>            :                                     disp,
<span class="lineNum">     178 </span>            :                                     etype,
<span class="lineNum">     179 </span>            :                                     filetype,
<span class="lineNum">     180 </span>            :                                     datarep,
<span class="lineNum">     181 </span>            :                                     info);
<span class="lineNum">     182 </span>            : 
<span class="lineNum">     183 </span>            : 
<span class="lineNum">     184 </span><span class="lineCov">          4 :     if (OMPI_SUCCESS != mca_fcoll_base_file_select (&amp;data-&gt;ompio_fh,</span>
<span class="lineNum">     185 </span>            :                                                     NULL)) {
<span class="lineNum">     186 </span><span class="lineNoCov">          0 :         opal_output(1, &quot;mca_fcoll_base_file_select() failed\n&quot;);</span>
<span class="lineNum">     187 </span><span class="lineNoCov">          0 :         return OMPI_ERROR;</span>
<span class="lineNum">     188 </span>            :     }
<span class="lineNum">     189 </span>            : 
<span class="lineNum">     190 </span><span class="lineCov">          4 :     return OMPI_SUCCESS;</span>
<a name="191"><span class="lineNum">     191 </span>            : }</a>
<span class="lineNum">     192 </span>            : 
<span class="lineNum">     193 </span><span class="lineNoCov">          0 : int mca_io_ompio_file_get_view (struct ompi_file_t *fp,</span>
<span class="lineNum">     194 </span>            :                                 OMPI_MPI_OFFSET_TYPE *disp,
<span class="lineNum">     195 </span>            :                                 struct ompi_datatype_t **etype,
<span class="lineNum">     196 </span>            :                                 struct ompi_datatype_t **filetype,
<span class="lineNum">     197 </span>            :                                 char *datarep)
<span class="lineNum">     198 </span>            : {
<span class="lineNum">     199 </span>            :     mca_io_ompio_data_t *data;
<span class="lineNum">     200 </span>            :     mca_io_ompio_file_t *fh;
<span class="lineNum">     201 </span>            : 
<span class="lineNum">     202 </span><span class="lineNoCov">          0 :     data = (mca_io_ompio_data_t *) fp-&gt;f_io_selected_data;</span>
<span class="lineNum">     203 </span><span class="lineNoCov">          0 :     fh = &amp;data-&gt;ompio_fh;</span>
<span class="lineNum">     204 </span>            : 
<span class="lineNum">     205 </span><span class="lineNoCov">          0 :     *disp = fh-&gt;f_disp;</span>
<span class="lineNum">     206 </span><span class="lineNoCov">          0 :     ompi_datatype_duplicate (fh-&gt;f_etype, etype);</span>
<span class="lineNum">     207 </span><span class="lineNoCov">          0 :     if ( mca_io_ompio_default_file_view == fh-&gt;f_filetype ) {</span>
<span class="lineNum">     208 </span><span class="lineNoCov">          0 :         ompi_datatype_duplicate ( &amp;ompi_mpi_byte.dt, filetype);</span>
<span class="lineNum">     209 </span>            :     }
<span class="lineNum">     210 </span>            :     else {
<span class="lineNum">     211 </span><span class="lineNoCov">          0 :         ompi_datatype_duplicate (fh-&gt;f_filetype, filetype);</span>
<span class="lineNum">     212 </span>            :     }
<span class="lineNum">     213 </span><span class="lineNoCov">          0 :     strcpy (datarep, fh-&gt;f_datarep);</span>
<span class="lineNum">     214 </span>            : 
<span class="lineNum">     215 </span><span class="lineNoCov">          0 :     return OMPI_SUCCESS;</span>
<a name="216"><span class="lineNum">     216 </span>            : }</a>
<span class="lineNum">     217 </span>            : 
<span class="lineNum">     218 </span><span class="lineCov">          8 : OMPI_MPI_OFFSET_TYPE get_contiguous_chunk_size (mca_io_ompio_file_t *fh)</span>
<span class="lineNum">     219 </span>            : {
<span class="lineNum">     220 </span><span class="lineCov">          8 :     int uniform = 0, global_uniform = 0;</span>
<span class="lineNum">     221 </span><span class="lineCov">          8 :     OMPI_MPI_OFFSET_TYPE avg[3] = {0,0,0};</span>
<span class="lineNum">     222 </span><span class="lineCov">          8 :     OMPI_MPI_OFFSET_TYPE global_avg[3] = {0,0,0};</span>
<span class="lineNum">     223 </span><span class="lineCov">          8 :     int i = 0;</span>
<span class="lineNum">     224 </span>            : 
<span class="lineNum">     225 </span>            :     /* This function does two things: first, it determines the average data chunk
<span class="lineNum">     226 </span>            :     ** size in the file view for each process and across all processes.
<span class="lineNum">     227 </span>            :     ** Second, it establishes whether the view across all processes is uniform.
<span class="lineNum">     228 </span>            :     ** By definition, uniform means:
<span class="lineNum">     229 </span>            :     ** 1. the file view of each process has the same number of contiguous sections
<span class="lineNum">     230 </span>            :     ** 2. each section in the file view has exactly the same size
<span class="lineNum">     231 </span>            :     */
<span class="lineNum">     232 </span>            : 
<span class="lineNum">     233 </span><span class="lineCov">         12 :     for (i=0 ; i&lt;(int)fh-&gt;f_iov_count ; i++) {</span>
<span class="lineNum">     234 </span><span class="lineCov">          4 :         avg[0] += fh-&gt;f_decoded_iov[i].iov_len;</span>
<span class="lineNum">     235 </span><span class="lineCov">          4 :         if (i &amp;&amp; 0 == uniform) {</span>
<span class="lineNum">     236 </span><span class="lineNoCov">          0 :             if (fh-&gt;f_decoded_iov[i].iov_len != fh-&gt;f_decoded_iov[i-1].iov_len) {</span>
<span class="lineNum">     237 </span><span class="lineNoCov">          0 :                 uniform = 1;</span>
<span class="lineNum">     238 </span>            :             }
<span class="lineNum">     239 </span>            :         }
<span class="lineNum">     240 </span>            :     }
<span class="lineNum">     241 </span><span class="lineCov">          8 :     if ( 0 != fh-&gt;f_iov_count ) {</span>
<span class="lineNum">     242 </span><span class="lineCov">          4 :         avg[0] = avg[0]/fh-&gt;f_iov_count;</span>
<span class="lineNum">     243 </span>            :     }
<span class="lineNum">     244 </span><span class="lineCov">          8 :     avg[1] = (OMPI_MPI_OFFSET_TYPE) fh-&gt;f_iov_count;</span>
<span class="lineNum">     245 </span><span class="lineCov">          8 :     avg[2] = (OMPI_MPI_OFFSET_TYPE) uniform;</span>
<span class="lineNum">     246 </span>            : 
<span class="lineNum">     247 </span><span class="lineCov">         16 :     fh-&gt;f_comm-&gt;c_coll.coll_allreduce (avg,</span>
<span class="lineNum">     248 </span>            :                                        global_avg,
<span class="lineNum">     249 </span>            :                                        3,
<span class="lineNum">     250 </span>            :                                        OMPI_OFFSET_DATATYPE,
<span class="lineNum">     251 </span>            :                                        MPI_SUM,
<span class="lineNum">     252 </span><span class="lineCov">          8 :                                        fh-&gt;f_comm,</span>
<span class="lineNum">     253 </span><span class="lineCov">          8 :                                        fh-&gt;f_comm-&gt;c_coll.coll_allreduce_module);</span>
<span class="lineNum">     254 </span><span class="lineCov">          8 :     global_avg[0] = global_avg[0]/fh-&gt;f_size;</span>
<span class="lineNum">     255 </span><span class="lineCov">          8 :     global_avg[1] = global_avg[1]/fh-&gt;f_size;</span>
<span class="lineNum">     256 </span>            : 
<span class="lineNum">     257 </span><span class="lineCov">         16 :     if ( global_avg[0] == avg[0] &amp;&amp;</span>
<span class="lineNum">     258 </span><span class="lineCov">         16 :          global_avg[1] == avg[1] &amp;&amp;</span>
<span class="lineNum">     259 </span><span class="lineCov">         16 :          0 == avg[2]             &amp;&amp;</span>
<span class="lineNum">     260 </span><span class="lineCov">          8 :          0 == global_avg[2] ) {</span>
<span class="lineNum">     261 </span><span class="lineCov">          8 :         uniform = 0;</span>
<span class="lineNum">     262 </span>            :     }
<span class="lineNum">     263 </span>            :     else {
<span class="lineNum">     264 </span><span class="lineNoCov">          0 :         uniform = 1;</span>
<span class="lineNum">     265 </span>            :     }
<span class="lineNum">     266 </span>            : 
<span class="lineNum">     267 </span>            :     /* second confirmation round to see whether all processes agree
<span class="lineNum">     268 </span>            :     ** on having a uniform file view or not
<span class="lineNum">     269 </span>            :     */
<span class="lineNum">     270 </span><span class="lineCov">         16 :     fh-&gt;f_comm-&gt;c_coll.coll_allreduce (&amp;uniform,</span>
<span class="lineNum">     271 </span>            :                                        &amp;global_uniform,
<span class="lineNum">     272 </span>            :                                        1,
<span class="lineNum">     273 </span>            :                                        MPI_INT,
<span class="lineNum">     274 </span>            :                                        MPI_MAX,
<span class="lineNum">     275 </span><span class="lineCov">          8 :                                        fh-&gt;f_comm,</span>
<span class="lineNum">     276 </span><span class="lineCov">          8 :                                        fh-&gt;f_comm-&gt;c_coll.coll_allreduce_module);</span>
<span class="lineNum">     277 </span>            : 
<span class="lineNum">     278 </span><span class="lineCov">          8 :     if ( 0 == global_uniform  ){</span>
<span class="lineNum">     279 </span>            :         /* yes, everybody agrees on having a uniform file view */
<span class="lineNum">     280 </span><span class="lineCov">          8 :         fh-&gt;f_flags |= OMPIO_UNIFORM_FVIEW;</span>
<span class="lineNum">     281 </span>            :     }
<span class="lineNum">     282 </span>            : 
<span class="lineNum">     283 </span><span class="lineCov">          8 :     return global_avg[0];</span>
<a name="284"><span class="lineNum">     284 </span>            : }</a>
<span class="lineNum">     285 </span>            : 
<span class="lineNum">     286 </span><span class="lineCov">          8 : int mca_io_ompio_fview_based_grouping(mca_io_ompio_file_t *fh,</span>
<span class="lineNum">     287 </span>            :                                       int *num_groups,
<span class="lineNum">     288 </span>            :                                       contg *contg_groups)
<span class="lineNum">     289 </span>            : {
<span class="lineNum">     290 </span>            : 
<span class="lineNum">     291 </span><span class="lineCov">          8 :     int k = 0;</span>
<span class="lineNum">     292 </span><span class="lineCov">          8 :     int p = 0;</span>
<span class="lineNum">     293 </span><span class="lineCov">          8 :     int g = 0;</span>
<span class="lineNum">     294 </span><span class="lineCov">          8 :     OMPI_MPI_OFFSET_TYPE start_offset_len[3] = {0};</span>
<span class="lineNum">     295 </span><span class="lineCov">          8 :     OMPI_MPI_OFFSET_TYPE *end_offsets = NULL;</span>
<span class="lineNum">     296 </span><span class="lineCov">          8 :     OMPI_MPI_OFFSET_TYPE *start_offsets_lens = NULL;</span>
<span class="lineNum">     297 </span>            : 
<span class="lineNum">     298 </span>            :     //Store start offset,length and corresponding rank in an array
<span class="lineNum">     299 </span><span class="lineCov">          8 :     if(NULL == fh-&gt;f_decoded_iov){</span>
<span class="lineNum">     300 </span><span class="lineCov">          4 :       start_offset_len[0] = 0;</span>
<span class="lineNum">     301 </span><span class="lineCov">          4 :       start_offset_len[1] = 0;</span>
<span class="lineNum">     302 </span>            :     }
<span class="lineNum">     303 </span>            :     else{
<span class="lineNum">     304 </span><span class="lineCov">          4 :        start_offset_len[0] = (OMPI_MPI_OFFSET_TYPE) fh-&gt;f_decoded_iov[0].iov_base;</span>
<span class="lineNum">     305 </span><span class="lineCov">          4 :        start_offset_len[1] = fh-&gt;f_decoded_iov[0].iov_len;</span>
<span class="lineNum">     306 </span>            :     }
<span class="lineNum">     307 </span><span class="lineCov">          8 :     start_offset_len[2] = fh-&gt;f_rank;</span>
<span class="lineNum">     308 </span>            : 
<span class="lineNum">     309 </span><span class="lineCov">          8 :     if( OMPIO_ROOT == fh-&gt;f_rank){</span>
<span class="lineNum">     310 </span><span class="lineCov">          2 :        start_offsets_lens = (OMPI_MPI_OFFSET_TYPE* )malloc (3 * fh-&gt;f_size * sizeof(OMPI_MPI_OFFSET_TYPE));</span>
<span class="lineNum">     311 </span><span class="lineCov">          2 :        if (NULL == start_offsets_lens) {</span>
<span class="lineNum">     312 </span><span class="lineNoCov">          0 :            opal_output (1, &quot;OUT OF MEMORY\n&quot;);</span>
<span class="lineNum">     313 </span><span class="lineNoCov">          0 :            return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     314 </span>            :        }
<span class="lineNum">     315 </span><span class="lineCov">          2 :        end_offsets = (OMPI_MPI_OFFSET_TYPE* )malloc (fh-&gt;f_size * sizeof(OMPI_MPI_OFFSET_TYPE));</span>
<span class="lineNum">     316 </span><span class="lineCov">          2 :        if (NULL == end_offsets) {</span>
<span class="lineNum">     317 </span><span class="lineNoCov">          0 :           opal_output (1, &quot;OUT OF MEMORY\n&quot;);</span>
<span class="lineNum">     318 </span><span class="lineNoCov">          0 :           free(start_offsets_lens);</span>
<span class="lineNum">     319 </span><span class="lineNoCov">          0 :           return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     320 </span>            :        }
<span class="lineNum">     321 </span>            : 
<span class="lineNum">     322 </span>            :     }
<span class="lineNum">     323 </span>            :     //Gather start offsets across processes in a group on aggregator
<span class="lineNum">     324 </span><span class="lineCov">         16 :     fh-&gt;f_comm-&gt;c_coll.coll_gather (start_offset_len,</span>
<span class="lineNum">     325 </span>            :                                     3,
<span class="lineNum">     326 </span>            :                                     OMPI_OFFSET_DATATYPE,
<span class="lineNum">     327 </span>            :                                     start_offsets_lens,
<span class="lineNum">     328 </span>            :                                     3,
<span class="lineNum">     329 </span>            :                                     OMPI_OFFSET_DATATYPE,
<span class="lineNum">     330 </span>            :                                     OMPIO_ROOT,
<span class="lineNum">     331 </span><span class="lineCov">          8 :                                     fh-&gt;f_comm,</span>
<span class="lineNum">     332 </span><span class="lineCov">          8 :                                     fh-&gt;f_comm-&gt;c_coll.coll_gather_module);</span>
<span class="lineNum">     333 </span>            : 
<span class="lineNum">     334 </span>            :     //Calculate contg chunk size and contg subgroups
<span class="lineNum">     335 </span><span class="lineCov">          8 :     if(OMPIO_ROOT == fh-&gt;f_rank){</span>
<span class="lineNum">     336 </span><span class="lineCov">         10 :        for( k = 0 ; k &lt; fh-&gt;f_size; k++){</span>
<span class="lineNum">     337 </span><span class="lineCov">          8 :            end_offsets[k] = start_offsets_lens[3*k] + start_offsets_lens[3*k+1];</span>
<span class="lineNum">     338 </span><span class="lineCov">          8 :            contg_groups[k].contg_chunk_size = 0;</span>
<span class="lineNum">     339 </span>            :         }
<span class="lineNum">     340 </span><span class="lineCov">          2 :         k = 0;</span>
<span class="lineNum">     341 </span><span class="lineCov">         12 :         while( k &lt; fh-&gt;f_size){</span>
<span class="lineNum">     342 </span><span class="lineCov">          8 :             if( k == 0){</span>
<span class="lineNum">     343 </span><span class="lineCov">          2 :                contg_groups[p].contg_chunk_size += start_offsets_lens[3*k+1];</span>
<span class="lineNum">     344 </span><span class="lineCov">          2 :                contg_groups[p].procs_in_contg_group[g] = start_offsets_lens[3*k + 2];</span>
<span class="lineNum">     345 </span><span class="lineCov">          2 :                g++;</span>
<span class="lineNum">     346 </span><span class="lineCov">          2 :                contg_groups[p].procs_per_contg_group = g;</span>
<span class="lineNum">     347 </span><span class="lineCov">          2 :                k++;</span>
<span class="lineNum">     348 </span>            :             }
<span class="lineNum">     349 </span><span class="lineCov">          6 :             else if( start_offsets_lens[3*k] == end_offsets[k - 1] ){</span>
<span class="lineNum">     350 </span><span class="lineCov">          3 :                 contg_groups[p].contg_chunk_size += start_offsets_lens[3*k+1];</span>
<span class="lineNum">     351 </span><span class="lineCov">          3 :                 contg_groups[p].procs_in_contg_group[g] = start_offsets_lens[3*k + 2];</span>
<span class="lineNum">     352 </span><span class="lineCov">          3 :                 g++;</span>
<span class="lineNum">     353 </span><span class="lineCov">          3 :                 contg_groups[p].procs_per_contg_group = g;</span>
<span class="lineNum">     354 </span><span class="lineCov">          3 :                 k++;</span>
<span class="lineNum">     355 </span>            :             }
<span class="lineNum">     356 </span>            :             else{
<span class="lineNum">     357 </span><span class="lineCov">          3 :                 p++;</span>
<span class="lineNum">     358 </span><span class="lineCov">          3 :                 g = 0;</span>
<span class="lineNum">     359 </span><span class="lineCov">          3 :                 contg_groups[p].contg_chunk_size += start_offsets_lens[3*k+1];</span>
<span class="lineNum">     360 </span><span class="lineCov">          3 :                 contg_groups[p].procs_in_contg_group[g] = start_offsets_lens[3*k + 2];</span>
<span class="lineNum">     361 </span><span class="lineCov">          3 :                 g++;</span>
<span class="lineNum">     362 </span><span class="lineCov">          3 :                 contg_groups[p].procs_per_contg_group = g;</span>
<span class="lineNum">     363 </span><span class="lineCov">          3 :                 k++;</span>
<span class="lineNum">     364 </span>            :             }
<span class="lineNum">     365 </span>            :         }
<span class="lineNum">     366 </span>            : 
<span class="lineNum">     367 </span><span class="lineCov">          2 :        *num_groups = p+1;</span>
<span class="lineNum">     368 </span><span class="lineCov">          2 :        if (NULL != start_offsets_lens) {</span>
<span class="lineNum">     369 </span><span class="lineCov">          2 :           free (start_offsets_lens);</span>
<span class="lineNum">     370 </span><span class="lineCov">          2 :           start_offsets_lens =  NULL;</span>
<span class="lineNum">     371 </span>            :        }
<span class="lineNum">     372 </span><span class="lineCov">          2 :        if (NULL != end_offsets) {</span>
<span class="lineNum">     373 </span><span class="lineCov">          2 :           free (end_offsets);</span>
<span class="lineNum">     374 </span><span class="lineCov">          2 :           end_offsets =  NULL;</span>
<span class="lineNum">     375 </span>            :        }
<span class="lineNum">     376 </span>            :     }
<span class="lineNum">     377 </span>            : 
<span class="lineNum">     378 </span>            :     //bcast num_groups to all procs
<span class="lineNum">     379 </span><span class="lineCov">         16 :     fh-&gt;f_comm-&gt;c_coll.coll_bcast (num_groups,</span>
<span class="lineNum">     380 </span>            :                                    1,
<span class="lineNum">     381 </span>            :                                    MPI_INT,
<span class="lineNum">     382 </span>            :                                    OMPIO_ROOT,
<span class="lineNum">     383 </span><span class="lineCov">          8 :                                    fh-&gt;f_comm,</span>
<span class="lineNum">     384 </span><span class="lineCov">          8 :                                    fh-&gt;f_comm-&gt;c_coll.coll_bcast_module);</span>
<span class="lineNum">     385 </span>            : 
<span class="lineNum">     386 </span>            : 
<span class="lineNum">     387 </span><span class="lineCov">          8 :     return OMPI_SUCCESS;</span>
<a name="388"><span class="lineNum">     388 </span>            : }</a>
<span class="lineNum">     389 </span>            : 
<span class="lineNum">     390 </span><span class="lineCov">          8 : int mca_io_ompio_finalize_initial_grouping(mca_io_ompio_file_t *fh,</span>
<span class="lineNum">     391 </span>            :                                            int num_groups,
<span class="lineNum">     392 </span>            :                                            contg *contg_groups)
<span class="lineNum">     393 </span>            : {
<span class="lineNum">     394 </span>            : 
<span class="lineNum">     395 </span><span class="lineCov">          8 :     int z = 0;</span>
<span class="lineNum">     396 </span><span class="lineCov">          8 :     int y = 0;</span>
<span class="lineNum">     397 </span><span class="lineCov">          8 :     int r = 0;</span>
<span class="lineNum">     398 </span>            : 
<span class="lineNum">     399 </span><span class="lineCov">          8 :     MPI_Request *sendreq = NULL , *req = NULL;</span>
<span class="lineNum">     400 </span>            : 
<span class="lineNum">     401 </span>            : 
<span class="lineNum">     402 </span><span class="lineCov">          8 :     req = (MPI_Request *)malloc (2* sizeof(MPI_Request));</span>
<span class="lineNum">     403 </span><span class="lineCov">          8 :     if (NULL == req) {</span>
<span class="lineNum">     404 </span><span class="lineNoCov">          0 :        return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     405 </span>            :     }
<span class="lineNum">     406 </span>            : 
<span class="lineNum">     407 </span><span class="lineCov">          8 :     fh-&gt;f_init_num_aggrs = num_groups;</span>
<span class="lineNum">     408 </span><span class="lineCov">          8 :     fh-&gt;f_init_aggr_list = (int*)malloc (fh-&gt;f_init_num_aggrs * sizeof(int));</span>
<span class="lineNum">     409 </span><span class="lineCov">          8 :     if (NULL == fh-&gt;f_init_aggr_list) {</span>
<span class="lineNum">     410 </span><span class="lineNoCov">          0 :         opal_output (1, &quot;OUT OF MEMORY\n&quot;);</span>
<span class="lineNum">     411 </span><span class="lineNoCov">          0 :         free(req);</span>
<span class="lineNum">     412 </span><span class="lineNoCov">          0 :         return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     413 </span>            :     }
<span class="lineNum">     414 </span>            : 
<span class="lineNum">     415 </span><span class="lineCov">          8 :     if(OMPIO_ROOT == fh-&gt;f_rank){</span>
<span class="lineNum">     416 </span><span class="lineCov">          2 :        sendreq = (MPI_Request *)malloc ( 2 *fh-&gt;f_size * sizeof(MPI_Request));</span>
<span class="lineNum">     417 </span><span class="lineCov">          2 :        if (NULL == sendreq) {</span>
<span class="lineNum">     418 </span><span class="lineNoCov">          0 :            free(req);</span>
<span class="lineNum">     419 </span><span class="lineNoCov">          0 :            return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     420 </span>            :        }
<span class="lineNum">     421 </span>            : 
<span class="lineNum">     422 </span><span class="lineCov">          7 :        for( z = 0 ;z &lt; num_groups; z++){</span>
<span class="lineNum">     423 </span><span class="lineCov">         13 :            for( y = 0; y &lt; contg_groups[z].procs_per_contg_group; y++){</span>
<span class="lineNum">     424 </span><span class="lineCov">          8 :                MCA_PML_CALL(isend(&amp;contg_groups[z].procs_per_contg_group,</span>
<span class="lineNum">     425 </span>            :                                   1,
<span class="lineNum">     426 </span>            :                                   MPI_INT,
<span class="lineNum">     427 </span>            :                                   contg_groups[z].procs_in_contg_group[y],
<span class="lineNum">     428 </span>            :                                   OMPIO_PROCS_PER_GROUP_TAG,
<span class="lineNum">     429 </span>            :                                   MCA_PML_BASE_SEND_STANDARD,
<span class="lineNum">     430 </span>            :                                   fh-&gt;f_comm,
<span class="lineNum">     431 </span>            :                                   &amp;sendreq[r++]));
<span class="lineNum">     432 </span>            : 
<span class="lineNum">     433 </span>            :                //send initial grouping distribution to all processes in the group
<span class="lineNum">     434 </span><span class="lineCov">          8 :                MCA_PML_CALL(isend(contg_groups[z].procs_in_contg_group,</span>
<span class="lineNum">     435 </span>            :                                   contg_groups[z].procs_per_contg_group,
<span class="lineNum">     436 </span>            :                                   MPI_INT,
<span class="lineNum">     437 </span>            :                                   contg_groups[z].procs_in_contg_group[y],
<span class="lineNum">     438 </span>            :                                   OMPIO_PROCS_IN_GROUP_TAG,
<span class="lineNum">     439 </span>            :                                   MCA_PML_BASE_SEND_STANDARD,
<span class="lineNum">     440 </span>            :                                   fh-&gt;f_comm,
<span class="lineNum">     441 </span>            :                                   &amp;sendreq[r++]));
<span class="lineNum">     442 </span>            :            }
<span class="lineNum">     443 </span>            :        }
<span class="lineNum">     444 </span>            :     }
<span class="lineNum">     445 </span>            : 
<span class="lineNum">     446 </span>            :     //All processes receive initial procs per group from OMPIO_ROOT
<span class="lineNum">     447 </span><span class="lineCov">          8 :     MCA_PML_CALL(irecv(&amp;fh-&gt;f_init_procs_per_group,</span>
<span class="lineNum">     448 </span>            :                        1,
<span class="lineNum">     449 </span>            :                        MPI_INT,
<span class="lineNum">     450 </span>            :                        OMPIO_ROOT,
<span class="lineNum">     451 </span>            :                        OMPIO_PROCS_PER_GROUP_TAG,
<span class="lineNum">     452 </span>            :                        fh-&gt;f_comm,
<span class="lineNum">     453 </span>            :                        &amp;req[0]));
<span class="lineNum">     454 </span>            : 
<span class="lineNum">     455 </span><span class="lineCov">          8 :     ompi_request_wait (&amp;req[0], MPI_STATUS_IGNORE);</span>
<span class="lineNum">     456 </span><span class="lineCov">          8 :     fh-&gt;f_init_procs_in_group = (int*)malloc (fh-&gt;f_init_procs_per_group * sizeof(int));</span>
<span class="lineNum">     457 </span><span class="lineCov">          8 :     if (NULL == fh-&gt;f_init_procs_in_group) {</span>
<span class="lineNum">     458 </span><span class="lineNoCov">          0 :         opal_output (1, &quot;OUT OF MEMORY\n&quot;);</span>
<span class="lineNum">     459 </span><span class="lineNoCov">          0 :         free(req);</span>
<span class="lineNum">     460 </span><span class="lineNoCov">          0 :         if (NULL != sendreq) {</span>
<span class="lineNum">     461 </span><span class="lineNoCov">          0 :             free(sendreq);</span>
<span class="lineNum">     462 </span>            :         }
<span class="lineNum">     463 </span><span class="lineNoCov">          0 :         return OMPI_ERR_OUT_OF_RESOURCE;</span>
<span class="lineNum">     464 </span>            :     }
<span class="lineNum">     465 </span>            :     //All processes receive initial process distribution from OMPIO_ROOT
<span class="lineNum">     466 </span><span class="lineCov">          8 :     MCA_PML_CALL(irecv(fh-&gt;f_init_procs_in_group,</span>
<span class="lineNum">     467 </span>            :                        fh-&gt;f_init_procs_per_group,
<span class="lineNum">     468 </span>            :                        MPI_INT,
<span class="lineNum">     469 </span>            :                        OMPIO_ROOT,
<span class="lineNum">     470 </span>            :                        OMPIO_PROCS_IN_GROUP_TAG,
<span class="lineNum">     471 </span>            :                        fh-&gt;f_comm,
<span class="lineNum">     472 </span>            :                        &amp;req[1]));
<span class="lineNum">     473 </span>            : 
<span class="lineNum">     474 </span><span class="lineCov">          8 :     ompi_request_wait (&amp;req[1], MPI_STATUS_IGNORE);</span>
<span class="lineNum">     475 </span><span class="lineCov">          8 :     free (req);</span>
<span class="lineNum">     476 </span><span class="lineCov">          8 :     if(OMPIO_ROOT == fh-&gt;f_rank){</span>
<span class="lineNum">     477 </span><span class="lineCov">          2 :         ompi_request_wait_all (r, sendreq, MPI_STATUSES_IGNORE);</span>
<span class="lineNum">     478 </span><span class="lineCov">          2 :         free (sendreq);</span>
<span class="lineNum">     479 </span>            :     }
<span class="lineNum">     480 </span>            : 
<span class="lineNum">     481 </span>            : 
<span class="lineNum">     482 </span>            :     /*set initial aggregator list */
<span class="lineNum">     483 </span>            :     //OMPIO_ROOT broadcasts aggr list
<span class="lineNum">     484 </span><span class="lineCov">          8 :     if(OMPIO_ROOT == fh-&gt;f_rank){</span>
<span class="lineNum">     485 </span><span class="lineCov">          7 :       for( z = 0 ;z &lt; num_groups; z++){</span>
<span class="lineNum">     486 </span><span class="lineCov">          5 :           fh-&gt;f_init_aggr_list[z] = contg_groups[z].procs_in_contg_group[0];</span>
<span class="lineNum">     487 </span>            :      }
<span class="lineNum">     488 </span>            :     }
<span class="lineNum">     489 </span>            : 
<span class="lineNum">     490 </span><span class="lineCov">         16 :     fh-&gt;f_comm-&gt;c_coll.coll_bcast (fh-&gt;f_init_aggr_list,</span>
<span class="lineNum">     491 </span>            :                                    num_groups,
<span class="lineNum">     492 </span>            :                                    MPI_INT,
<span class="lineNum">     493 </span>            :                                    OMPIO_ROOT,
<span class="lineNum">     494 </span><span class="lineCov">          8 :                                    fh-&gt;f_comm,</span>
<span class="lineNum">     495 </span><span class="lineCov">          8 :                                    fh-&gt;f_comm-&gt;c_coll.coll_bcast_module);</span>
<span class="lineNum">     496 </span>            : 
<span class="lineNum">     497 </span><span class="lineCov">          8 :    return OMPI_SUCCESS;</span>
<span class="lineNum">     498 </span>            : }
<span class="lineNum">     499 </span>            : 
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.11</a></td></tr>
  </table>
  <br>

</body>
</html>
